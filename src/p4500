import fileutils
import os
import sys
from optparse import OptionParser
from songidentity import SongInfo

def compare_song_info_lists(song_info_list1, song_info_list2):
    """Calls compare on every SongInfo object generated from the 
    first directory with every SongInfo object generated by the
    second directory.
    """
    for song1 in song_info_list1:
        for song2 in song_info_list2:
            if song1 and song2:
                song1.compare(song2)

def dir_compare(dir1, dir2):
	filelist1 = fileutils.gen_file_list(dir1)
    filelist2 = fileutils.gen_file_list(dir2)
    song_info_list1 = fileutils.readfiles(filelist1)
    song_info_list2 = fileutils.readfiles(filelist2)
    compare_song_info_lists(song_info_list1, song_info_list2)

def file_compare(file_name1, file_name2):
	song1 = fileutils.read_file(file_name1)
	song2 = fileutils.read_file(file_name2)
	song1.compare(song2)

def main(argv):
	usage = "p4500 [options] source1 source2"
	parser = OptionParser(usage=usage)
	parser.add_option("-f", "--file", help = "Accept files as inputs.")
	parser.add_option("-d", help = "Accept directories as inputs.")
	options, args = parser.parse_args()
	if len(args) < 2:
		parser.print_usage()
	print options
    dir1 = args[0]
    dir2 = args[1]

if __name__ == '__main__':
    main(sys.argv)